<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Reverse Raffle</title>
<style>
	html, body {
		margin: 0;
		padding: 0;
		width: 100%;
		height: 100%;
		overflow: hidden;
	}

	#container {
		display: grid;
		grid-gap: 1px;
		width: 100vw;
		height: 75vh;
	}

	#drawn {
		width: 100vw;
		height: 15vh;
		border: 1px solid black;
		overflow: scroll;
		scroll: auto;
	}

	.number {
		font-family: sans-serif;
		font-weight: bold;
		display: flex;
		justify-content: center;
		box-sizing: border-box;
		background-color: blue;
		color: white;
		cursor: pointer;
		width: 100%;
		height: 100%;
	}	
</style>
</head>
<body>
<div id="container"></div>
<div><p>Tickets drawn:</p></div>
<div id="drawn"></div>
<script>
window.onload = function() {

	const tickets = 200;
    const container = document.getElementById("container");
	const drawn = document.getElementById("drawn");
	const numbers = [];

    for (let i = 1; i <= tickets; i++) {
        const number = document.createElement("div");
        number.className = "number";
        number.innerHTML = '<br />' + i;		
		numbers.push(number);
        container.appendChild(number);
    }

    // Calculate number of rows and columns
    const numRows = Math.ceil(Math.sqrt(numbers.length));
    const numColumns = Math.ceil(numbers.length / numRows);
	
	const clicker = function() {
	
		this.style.backgroundColor = 'DimGray';
		this.innerHTML = '<s>' + this.innerHTML + '</s>';
		
		if (drawn.innerHTML == "") {
			drawn.innerHTML += this.innerText;	
		} else {
			drawn.innerHTML += ', ' + this.innerText;	
		}
		
		drawn.scroll = drawn.height;

		this.removeEventListener("click", clicker);
		this.addEventListener("click", unclicker);
		
	};
	
	const unclicker = function() {
		this.style.backgroundColor = 'Blue';
		this.innerHTML = this.innerHTML.replace('<s>', '').replace('</s>', '');		
		
		drawn.innerHTML += ', <s>' + this.innerText + '</s>';
		this.addEventListener("click", clicker);
		this.removeEventListener("click", unclicker);		
	};

    // Set initial grid styles
    container.style.gridTemplateColumns = `repeat(${numColumns}, 1fr)`;
    container.style.gridTemplateRows = `repeat(${numRows}, 1fr)`;

    // Event listener for each number
    numbers.forEach(number => {
        number.addEventListener("click", clicker);
    });

}
</script>
</body>
</html>